# 5.10 Amazon Bedrock - RAG & Knowledge Base

So now let's talk aboutRAG and Knowledge Bases.So what is RAG?RAG is Retrieval-Augmented Generation.Behind this very fancy name,there is a very simple concept.This allows your foundation modelto reference a data source from outsideof its training datawithout being fine tuned.So how does that work?So we have a knowledge baseand it's being built and managed by Amazon Bedrock.For this, it must rely on a data source.For example, Amazon S3.So your data is going to be an Amazon S3,and then automatically Bedrock is going to do some magic.We'll see how that works exactly,but it's going to build a knowledge base.And then a user is going to ask a questionto your foundation model saying,who is the product manager for John?So that's probably something related to his company.And of course the foundation modeldoes not know anything about Johnbecause John is a very specific queryfor my company and my own data.So there's going to be something called a search,and this information is going to be searchedin the knowledge base, automatically.Of course, this is all happening behind the scene.But this knowledge base is backed by something calleda vector databaseand to create the data in the vector database,again, bedrock takes care of everything,it's called creating vector Embeddings.And I will show you how that works later on.But basically thanks to this vector database,then we're able to retrieve the relevant informationout of this knowledge base.And for example, we get some text back from thissaying that we have some information about John,such as we have some support contacts.We have a product manager, which is Jessie Smith.We have an engineer, which is Sara Ronald.And so all this is going to go as an augmented prompt.And so it's going to be the original queryas well as the text that has been retrievedthat are going to be passed togetherinto the actual foundation model.And the foundation modelis going to look at this augmented promptand generate a response saying,hey, it looks like Jessie Smithis the product manager for John.And it's what it's called retrieval-augmented generation.Retrieval, because we retrieve the dataoutside of the foundation modeland it's augmented generationbecause we augment the promptwith that external data that has been retrieved.So hence the name RAG.And so RAG in AWS Amazon Bedrockis going to be a knowledge base.So this is very helpfulwhen you need to have data that needs to be fed,and that is very up to date, that is in real time,and that needs to be fed into the foundation model.So how does that work?Well, here we have an example.Give me talking points for benefits of air travel.As you can see,one of these talking points has a little one on itand a link to air travel.pdfand that PDF may be an Amazon S3.So this is an example where the RAGand the knowledge base has been usedto give an answer to a specific prompt.So for the RAG Vector Databases, what options do we have?Well, to store our index,we have a vector database,and we can have different kinds.We can have OpenSearch Service, Aurora,Neptune Analytics, and S3 Vectors.Those are AWS specific options.And then we can have external options such as MongoDB,as well as Redis and Pinecone.And these are options if you want to integratewith external services.Next, your data is going to be in Amazon S3and it's going to be chunked into different parts.And these parts are going to be passed throughwhat's called an embeddings model.And this model is going to be powered byeither Amazon Titan or Cohere or other options.And these embeddings are going to be generatedand stored onto your vector database.And this is why choosing a vector databaseis a matter of what type of queries and documents you haveand how you want to optimize your queries.But this is a bit too advanced.You just need to know the existenceof these embeddings modelto create these embeddingsand the existence of a database.Still the exam may ask you to choosewhat type of database to choose for your vector database.It's just a high level.But if you want to use OpenSearch Service,then you must use the Amazon OpenSearch Service on AWS.You have options for serverless and managed clusters.It gives you search and analytics database in real timefor similar queries.You can store millions of vector embeddings.It's a very scalable index management,and you get very fast nearest neighbor,KNN search capability.This makes it a great production way to run a RAG on AWS.If you wanted original database,you can use Amazon or a PostgreSQL.If you wanted to have a graph analyticsand graph based RAG called GraphRAG solution,then you must use Amazon Neptune Analytics.And finally, if you wanted a very cost effectiveand durable storagewith sub-second query performance,then you would use Amazon S3 vectors.And as you can see,these sources are different based on their capabilities.Just remember them at a high level for the examand you'll be good to go.So what kind of data sources can we use in Amazon Bedrock?Well, we have Amazon S3,which is a place where you can put a lot of filesin the cloud directory.Confluence, Microsoft SharePoint, Salesforce,as well as webpages.So it could be your website,it could be your social media feed, et cetera, et cetera,so anything in the web.And I'm pretty sure that Amazon Bedrockwill add more sources over time.But from an exam perspective,I think remembering Amazon is freeand maybe these ones should be enough.And of course, if from an exam perspective,you need to know about more data sources,I will of course include it in this slide.So what are the use cases now for Amazon Bedrockwhere you can build a customer service chatbotwhere the knowledge base is going to be your products,your features, your specifications, troubleshooting guides,and frequently asked questions.And so therefore, your RAG application can be the chatbotthat will answer customer queriesand look up in this knowledge base.It could be for legal research and analysiswhere the knowledge base is going to belaws and regulations, case precedents, legal opinionsand expert analysisand this time we can have a chatbotthat is going to have relevant informationanytime we have a specific legal query.And we can have also a healthcare question answering.So again, the knowledge base can be diseases, treatments,clinical guidelines, research papers,and previous patient data.And the application could be a chatbotthat will answer complex medical queries.So RAG opens up a lot of possibilitiesfor doing gen AI on AWS.So I hope you liked itand I will see you in the next lecture.